name: üìä Solicita√ß√£o de Relat√≥rio ou Dados
description: Solicitar relat√≥rios, exporta√ß√£o de dados ou informa√ß√µes espec√≠ficas
title: "[RELAT√ìRIO] "
labels: ["enhancement", "reporting"]
assignees: []

body:
  - type: markdown
    attributes:
      value: |
        ## üìä Solicita√ß√£o de Relat√≥rio ou Dados
        
        Use este formul√°rio para solicitar relat√≥rios, exporta√ß√£o de dados ou informa√ß√µes espec√≠ficas do sistema.
        
        **Para o agente Copilot:** Esta √© uma solicita√ß√£o para implementar funcionalidade de relat√≥rios ou exporta√ß√£o de dados.

  - type: input
    id: report-title
    attributes:
      label: Nome do Relat√≥rio
      description: Como voc√™ chamaria este relat√≥rio?
      placeholder: "Ex: Relat√≥rio de Participa√ß√£o por Atividade"
    validations:
      required: true

  - type: textarea
    id: report-purpose
    attributes:
      label: Finalidade do Relat√≥rio
      description: Para que voc√™ precisa dessas informa√ß√µes?
      placeholder: |
        Ex: 
        - Presta√ß√£o de contas para a diretoria
        - Planejamento de atividades para o pr√≥ximo semestre
        - Identificar atividades populares e menos procuradas
        - Relat√≥rio mensal para pais sobre participa√ß√£o dos filhos
    validations:
      required: true

  - type: checkboxes
    id: data-needed
    attributes:
      label: Dados Necess√°rios
      description: Que informa√ß√µes voc√™ precisa no relat√≥rio?
      options:
        - label: Lista de todas as atividades
          value: activities_list
        - label: N√∫mero de estudantes por atividade
          value: student_count
        - label: Lista de estudantes inscritos (com nomes/emails)
          value: student_details
        - label: Atividades mais populares
          value: popular_activities
        - label: Atividades com vagas dispon√≠veis
          value: available_spots
        - label: Hor√°rios das atividades
          value: schedules
        - label: Professores respons√°veis
          value: teachers
        - label: Capacidade vs. inscri√ß√µes atuais
          value: capacity_usage
        - label: Hist√≥rico de inscri√ß√µes/cancelamentos
          value: registration_history

  - type: dropdown
    id: time-period
    attributes:
      label: Per√≠odo de Tempo
      description: Que per√≠odo o relat√≥rio deve cobrir?
      options:
        - Situa√ß√£o atual (snapshot de hoje)
        - Esta semana
        - Este m√™s
        - Este semestre
        - Este ano letivo
        - Per√≠odo personalizado (especificar abaixo)
        - Hist√≥rico completo
    validations:
      required: true

  - type: input
    id: custom-period
    attributes:
      label: Per√≠odo Personalizado
      description: Se escolheu "Per√≠odo personalizado", especifique as datas
      placeholder: "Ex: De 01/03/2025 a 31/05/2025"

  - type: checkboxes
    id: filter-options
    attributes:
      label: Filtros Necess√°rios
      description: O relat√≥rio precisa ser filtrado por algum crit√©rio?
      options:
        - label: Por tipo de atividade (Esportes, Artes, etc.)
          value: activity_type
        - label: Por dia da semana
          value: day_of_week
        - label: Por hor√°rio (manh√£, tarde, fim de semana)
          value: time_range
        - label: Por professor espec√≠fico
          value: teacher
        - label: Por capacidade (atividades lotadas, com vagas, etc.)
          value: capacity_status
        - label: Por estudante espec√≠fico
          value: specific_student

  - type: dropdown
    id: output-format
    attributes:
      label: Formato de Sa√≠da
      description: Como voc√™ gostaria de receber o relat√≥rio?
      options:
        - Visualiza√ß√£o na tela (HTML/p√°gina web)
        - Download em PDF
        - Download em Excel/CSV
        - Email autom√°tico
        - N√£o tenho prefer√™ncia
    validations:
      required: true

  - type: dropdown
    id: frequency
    attributes:
      label: Frequ√™ncia
      description: Voc√™ precisar√° deste relat√≥rio regularmente?
      options:
        - Apenas uma vez
        - Semanalmente
        - Mensalmente
        - No final de cada semestre
        - Anualmente
        - Sob demanda (quando solicitar)

  - type: textarea
    id: specific-questions
    attributes:
      label: Perguntas Espec√≠ficas
      description: Que perguntas voc√™ espera que o relat√≥rio responda?
      placeholder: |
        Ex: 
        - Quantos estudantes est√£o participando de atividades esportivas?
        - Qual atividade tem maior lista de espera?
        - Quais hor√°rios s√£o mais populares?
        - H√° estudantes que participam de muitas atividades?
        - Quais atividades precisam de mais divulga√ß√£o?
    validations:
      required: true

  - type: textarea
    id: current-process
    attributes:
      label: Processo Atual
      description: Como voc√™ coleta essas informa√ß√µes hoje?
      placeholder: |
        Ex: 
        - Abro cada atividade individualmente e conto manualmente
        - Anoto tudo em papel durante a semana
        - Pe√ßo para cada professor me mandar os dados
        - N√£o consigo coletar essas informa√ß√µes atualmente

  - type: dropdown
    id: urgency
    attributes:
      label: Urg√™ncia
      description: Quando voc√™ precisa deste relat√≥rio?
      options:
        - Esta semana
        - Pr√≥ximas duas semanas
        - Pr√≥ximo m√™s
        - N√£o √© urgente
        - Tenho uma data espec√≠fica (especificar abaixo)

  - type: input
    id: specific-deadline
    attributes:
      label: Data Espec√≠fica
      description: Se tem uma data espec√≠fica, qual √©?
      placeholder: "Ex: 15/04/2025 (para reuni√£o com diretoria)"

  - type: textarea
    id: additional-requirements
    attributes:
      label: Requisitos Adicionais
      description: Alguma outra especifica√ß√£o importante para o relat√≥rio?
      placeholder: |
        Ex: 
        - Precisa ser aprovado pela diretoria antes de compartilhar
        - Dados pessoais devem ser anonimizados
        - Deve incluir gr√°ficos ou apenas tabelas
        - Precisa ser compat√≠vel com sistema X da escola

  - type: markdown
    attributes:
      value: |
        ---
        
        ## üìã Para o Agente de Codifica√ß√£o Copilot
        
        **Crit√©rios de Aceita√ß√£o:**
        - [ ] Implementar endpoint de API para gerar o relat√≥rio solicitado
        - [ ] Criar queries adequadas no MongoDB para extrair os dados
        - [ ] Implementar filtros conforme especificado
        - [ ] Gerar formato de sa√≠da solicitado (HTML, PDF, CSV)
        - [ ] Validar autentica√ß√£o/autoriza√ß√£o para acesso ao relat√≥rio
        - [ ] Testar com dados reais para verificar precis√£o
        
        **Dicas de Implementa√ß√£o:**
        - Criar novo Use Case na camada application para o relat√≥rio
        - Usar agrega√ß√µes MongoDB para queries complexas
        - Para PDF: considere usar biblioteca como iText ou Flying Saucer
        - Para CSV/Excel: use OpenCSV ou Apache POI
        - Implementar pagina√ß√£o se relat√≥rio for muito grande
        - Cachear resultados se relat√≥rio for pesado
        - Adicionar logs para auditoria de acesso aos relat√≥rios
        
        **Contexto dos Dados:**
        - Activities collection: {name, description, participants[], maxParticipants, type, scheduleDetails}
        - Teachers collection: {username, displayName, role}
        - Participants s√£o arrays de strings (emails)
        - ScheduleDetails cont√©m days[] e startTime/endTime
        - ActivityType enum para categoriza√ß√£o
        
        **Considera√ß√µes de Seguran√ßa:**
        - Relat√≥rios devem respeitar n√≠veis de acesso (TEACHER vs ADMIN)
        - Dados pessoais podem precisar de anonimiza√ß√£o
        - Implementar rate limiting para relat√≥rios pesados
        - Validar autoriza√ß√£o para acessar dados espec√≠ficos
        
        **Padr√µes de UI:**
        - Se for tela web, usar estilos existentes em styles.css
        - Implementar loading states para relat√≥rios que demoram
        - Usar modals para configura√ß√£o de filtros
        - Manter consist√™ncia com interface atual