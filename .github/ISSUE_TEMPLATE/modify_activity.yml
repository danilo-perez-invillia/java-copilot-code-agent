name: ‚úèÔ∏è Modificar Atividade Existente
description: Solicitar mudan√ßas em uma atividade que j√° existe
title: "[MODIFICAR] "
labels: ["enhancement", "activity-modification"]
assignees: []

body:
  - type: markdown
    attributes:
      value: |
        ## ‚úèÔ∏è Modifica√ß√£o de Atividade Existente
        
        Use este formul√°rio para solicitar mudan√ßas em atividades que j√° existem no sistema.
        
        **Para o agente Copilot:** Esta √© uma solicita√ß√£o para modificar uma atividade existente no sistema.

  - type: dropdown
    id: activity-to-modify
    attributes:
      label: Atividade a Modificar
      description: Qual atividade voc√™ quer modificar?
      options:
        - Chess Club
        - Art Club
        - Drama Club
        - Science Fair Prep
        - Math Olympiad Training
        - Programming Class
        - Debate Team
        - Environmental Club
        - Music Band
        - Basketball Team
        - Soccer Practice
        - Outra (especificar abaixo)
    validations:
      required: true

  - type: input
    id: other-activity
    attributes:
      label: Outra Atividade
      description: Se escolheu "Outra" acima, digite o nome exato da atividade
      placeholder: "Ex: Clube de Fotografia"

  - type: checkboxes
    id: modification-type
    attributes:
      label: O que voc√™ quer modificar?
      description: Marque todas as mudan√ßas necess√°rias
      options:
        - label: Hor√°rio (dias da semana ou horas)
          value: schedule
        - label: Capacidade m√°xima de participantes
          value: capacity
        - label: Descri√ß√£o da atividade
          value: description
        - label: Nome da atividade
          value: name
        - label: Categoria/Tipo da atividade
          value: type
        - label: Professor respons√°vel
          value: teacher

  - type: textarea
    id: schedule-changes
    attributes:
      label: Mudan√ßas de Hor√°rio
      description: Se marcou "Hor√°rio" acima, descreva as mudan√ßas necess√°rias
      placeholder: |
        Ex: 
        - Mudar de segunda e quarta para ter√ßa e quinta
        - Alterar hor√°rio de 15:30-17:00 para 16:00-17:30
        - Adicionar encontro no s√°bado de manh√£

  - type: input
    id: new-capacity
    attributes:
      label: Nova Capacidade
      description: Se marcou "Capacidade", qual deve ser o novo n√∫mero m√°ximo?
      placeholder: "Ex: 20"

  - type: textarea
    id: new-description
    attributes:
      label: Nova Descri√ß√£o
      description: Se marcou "Descri√ß√£o", escreva a nova descri√ß√£o completa
      placeholder: "Ex: Uma oportunidade aprimorada para estudantes desenvolverem habilidades art√≠sticas atrav√©s de pintura, escultura e arte digital..."

  - type: input
    id: new-name
    attributes:
      label: Novo Nome
      description: Se marcou "Nome", qual deve ser o novo nome da atividade?
      placeholder: "Ex: Clube de Arte Digital"

  - type: dropdown
    id: new-type
    attributes:
      label: Nova Categoria
      description: Se marcou "Categoria", qual deve ser o novo tipo?
      options:
        - Esportes
        - Artes
        - Acad√™mico
        - Comunidade
        - Tecnologia

  - type: input
    id: new-teacher
    attributes:
      label: Novo Professor Respons√°vel
      description: Se marcou "Professor respons√°vel", quem ser√° o novo respons√°vel?
      placeholder: "Ex: Prof. Santos"

  - type: textarea
    id: reason-for-change
    attributes:
      label: Motivo da Mudan√ßa
      description: Por que essas mudan√ßas s√£o necess√°rias?
      placeholder: |
        Ex: 
        - Conflito com outras atividades no hor√°rio atual
        - Muitos estudantes interessados, precisamos de mais vagas
        - Professor atual n√£o pode mais conduzir a atividade
    validations:
      required: true

  - type: dropdown
    id: urgency
    attributes:
      label: Urg√™ncia
      description: Qu√£o urgente √© esta mudan√ßa?
      options:
        - Baixa - pode aguardar algumas semanas
        - M√©dia - seria bom implementar em 1-2 semanas
        - Alta - precisamos implementar antes da pr√≥xima semana

  - type: textarea
    id: impact-considerations
    attributes:
      label: Impacto nos Estudantes
      description: Como essa mudan√ßa afetar√° os estudantes j√° inscritos?
      placeholder: |
        Ex: 
        - Todos os estudantes atuais podem continuar no novo hor√°rio
        - Alguns estudantes podem ter conflito com o novo hor√°rio
        - Precisamos avisar todos sobre as mudan√ßas

  - type: markdown
    attributes:
      value: |
        ---
        
        ## üìã Para o Agente de Codifica√ß√£o Copilot
        
        **Crit√©rios de Aceita√ß√£o:**
        - [ ] Identificar a atividade correta no banco de dados
        - [ ] Aplicar as modifica√ß√µes solicitadas mantendo a integridade dos dados
        - [ ] Atualizar estudantes inscritos conforme necess√°rio
        - [ ] Validar que mudan√ßas de hor√°rio n√£o quebram filtros do frontend
        - [ ] Testar que a interface reflete as mudan√ßas corretamente
        - [ ] Verificar se mudan√ßas de capacidade n√£o violam inscri√ß√µes existentes
        
        **Dicas de Implementa√ß√£o:**
        - Para mudan√ßas simples, pode usar update direto no reposit√≥rio
        - Para mudan√ßas complexas, considere criar nova migra√ß√£o Mongock
        - Se mudar nome da atividade, cuidado com refer√™ncias de estudantes inscritos
        - Mudan√ßas de hor√°rio requerem update do objeto `ScheduleDetails`
        - Mudan√ßas de tipo requerem update do enum `ActivityType`
        - Teste todos os filtros do frontend ap√≥s mudan√ßas
        - Se reduzir capacidade, verifique se n√£o h√° mais inscritos que o novo limite
        
        **Contexto do Sistema:**
        - Atividades s√£o identificadas pelo campo `name` (ID)
        - Estudantes inscritos s√£o array de emails na atividade
        - Frontend filtra por tipo, dias e faixas de hor√°rio
        - ScheduleDetails cont√©m dias (array) e hor√°rios (LocalTime)
        - Mudan√ßas devem manter consist√™ncia com valida√ß√µes existentes